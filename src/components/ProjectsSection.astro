---
// Access images in `src/assets/images/`

const projects = [
  {
    name: "durf2030",
    headline: "Crowdfunding site with citizen participation",
    tags: ["React", "Firebase", "MobX"],
    description:
      "A crowdfunding platform prototype with citizen participation features. The goal is to enable and fund local projects that have cultural significance and bring citizens of a city closer together.",
    img_path_mockup: "durf/durf_mockup.png",
    live_link: "https://bap-eight.vercel.app",
    link_text: "crowdfunding project",
    accent: "#7AB8AC",
  },
  {
    name: "incognitoo",
    headline: "Mini social media platform with a focus on anonymity",
    tags: ["React", "MobX"],
    description:
      "A social media platform for anonymous users. This was one of my first websites I made with React. It includes state, react hooks, routing, controlled components. Users can quickly pick a name and color for their avatar before they start creating posts, commenting or following other users.",
    img_path_mockup: "incognitoo/incognitoo_mockup.png",
    live_link: "https://mini-react-social-network.vercel.app/",
    link_text: "social media project",
    accent: "#E5EEFF",
  },
  {
    name: "gekke-gympies",
    headline: "Website for a club of eccentric shoemakers",
    tags: ["JavaScript", "PHP"],
    description:
      "I wanted to breathe new life into an old craft or pastime. I also had to create a website for their association. Originally, I developed this wesbite using PHP, but I've since rewritten it to no longer use PHP.",
    img_path_mockup: "gekke_gympies/gekke_gympies_mockup.png",
    live_link: "/gekke-schoenmakers/",
    link_text: "shoemakers project",
    accent: "#FECDDA",
  },
];

// import imageDurfDefault from "@assets/images/durf/durf_mockup.png";

const imageBaseUrl = "https://ik.imagekit.io/aaronh/";
const imageBaseUrlParams = "?tr=";
---

<section id="projects">
  <div class="projects-container">
    <h2 class="projects-title">Highlighted projects</h2>
    <div class="works">
      {
        projects.map((project, index) => (
          <a
            class={`project-link-wrapper proj-${index}`}
            href={project.live_link}
            class="project-link btn btn-text btn-icon"
            target="_blank"
            rel="noopener"
            style={`background-color: ${project.accent}`}
          >
            <article class="project">
              <h3 class="project-title">{project.headline}</h3>
              <div class="tags">
                {project.tags.map(tag => (
                  <div class="tag">{tag}</div>
                ))}
              </div>
              <img
                src={`${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}`}
                alt={`mockup of the ${project.name} project`}
                class="project-img"
                loading="lazy"
                width="480"
                height="420"
                sizes="(min-width: 48em) 24rem, 90vw"
                srcset={`
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-400 400w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-500 500w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-600 600w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-650 650w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-700 700w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-750 750w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-800 800w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-850 850w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-900 900w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-1000 1000w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-1200 1200w,
                ${imageBaseUrl}${project.img_path_mockup}${imageBaseUrlParams}w-1400 1400w,
                `}
              />
              <p class="project-text">{project.description}</p>
              <div class="project-link btn btn-text btn-icon">
                View {project.link_text}
                <svg class="icon icon-right">
                  <use xlink:href="sprite.svg#arrow-n-right" />
                </svg>
              </div>
            </article>
          </a>
        ))
      }
      <!-- <a href="/projects" class="more-projects">
        <svg class="icon">
          <use xlink:href="sprite.svg#plus-circle"></use>
        </svg>
        View more work
      </a> -->
    </div>
  </div>
</section>

<style>
  .projects-title {
    color: var(--c-muted);
    margin-block: var(--size-4) var(--size-8);
  }
  .projects-container {
    margin-inline: auto;
    padding-block: var(--size-8);
  }

  .works {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--size-6);
  }

  .more-link {
    justify-content: flex-end;
  }

  .more-projects {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--size-2);
    color: var(--c-text);
    padding: var(--size-8) var(--size-fluid-2);
    border: dashed var(--border-size-3);
    border-radius: var(--radius-4) var(--radius-3) var(--radius-4)
      var(--radius-3);
    text-align: center;
    text-decoration: none;
    transition: background-color 0.3s ease;
    font-size: var(--fs-large);
    font-weight: var(--font-weight-6);
  }

  .more-projects .icon {
    max-width: 5rem;
    max-height: 5rem;
  }

  .more-projects:hover {
    background-color: var(--c-text);
    color: var(--c-text-alt);
  }

  /* project */
  .project-link-wrapper {
    padding-inline: var(--size-4);
    padding-block: var(--size-5);
    border-radius: var(--radius-3) var(--radius-4) var(--radius-3)
      var(--radius-3);
    text-decoration: none;
    color: var(--c-text-alt);
    transition: transform 0.3s ease;
  }

  .project-link-wrapper:hover {
    transform: translate3d(0, -0.5rem, 0);
  }

  .project-link-wrapper:focus-visible {
    outline: var(--border-size-3) solid var(--c-grayscale);
    outline-offset: var(--size-2);
  }

  .project {
    display: flex;
    flex-direction: column;
    gap: var(--size-3) var(--size-6);
    height: 100%;
  }
  .project-title {
    font-size: var(--fs-f-large);
    font-weight: 700;
  }
  .project-img {
    height: auto;
    align-self: center;
  }
  .project-text {
    max-width: var(--size-content-2);
  }
  .project-link {
    color: var(--c-text-alt);
    font-weight: var(--font-weight-6);
  }
  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--size-2);
    align-content: center;
  }
  .tag {
    background-color: hsla(0, 0%, 100%, 50%);
    font-weight: var(--font-weight-3);
    padding: var(--size-2) var(--size-3);
    border-radius: var(--radius-1);
  }

  @media (min-width: 62em) {
    .projects-container {
      max-inline-size: var(--container-w-large);
      padding-block: var(--size-10);
    }
    .works {
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: 1fr;
    }

    .project-link-wrapper {
      padding-inline: var(--size-7);
      padding-block: var(--size-7);
    }

    .project-link {
      margin-top: auto;
    }

    .project-img {
      margin-block: var(--size-3);
      max-width: min(24rem, 100%);
    }

    .proj-0 {
      grid-column: 1 / span 2;
    }

    .proj-1 {
      grid-column: 3 / 6;
    }

    .proj-2 {
      /* grid-column: 1 / 4; */
      grid-column: 1 / 6;
    }

    .proj-2 article {
      display: grid;
      grid-template-columns: 5fr 4fr;
      grid-template-rows: auto;
    }

    .proj-2 article .project-img {
      justify-self: end;
      grid-column: 2 / 3;
      grid-row: 1 / 5;
    }

    .proj-2 .project-title,
    .proj-2 .tags,
    .proj-2 .project-text,
    .proj-2 .project-link {
      grid-column: 1 / 2;
    }

    .more-projects {
      grid-column: 4 / 6;
      grid-row: 2 / -1;
      justify-content: center;
    }
  }
</style>
